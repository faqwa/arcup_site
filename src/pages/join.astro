---
// ============================================================================
// IMPORTS - Updated to use shared components and utilities
// ============================================================================
import BaseLayout from "../layouts/BaseLayout.astro";
import ArcCanvas from "../components/ArcCanvas.astro";
import PageNavigation from "../components/PageNavigation.astro";

// NEW: Import shared components - but use sparingly to preserve design
import Card from "../components/Card.astro";
import LinkButton from "../components/LinkButton.astro";
import SectionHeader from "../components/SectionHeader.astro";

import '../styles/pages/join.css';

// NEW: Import utilities and constants
import { withBase } from '../utils/paths';
import { buildSEO } from '../utils/seo';
import { EXTERNAL_LINKS } from '../config/constants';

// ============================================================================
// SEO - Simplified using buildSEO utility
// ============================================================================
const seo = buildSEO({
  title: "Join arc^",
  description: "Join arc^ to contribute to open plasma research, community partnerships, and regenerative technology development.",
  path: "/join",
  siteUrl: Astro.site,
});
---

<BaseLayout
  title={seo.title}
  description={seo.description}
  bodyClass="page-join"
  seo={seo}
  navActive="join"
>
  <ArcCanvas slot="before-header" />

  <main id="main-content" class="page-shell" aria-labelledby="join-title">
    
    <!-- HERO - No changes -->
    <header class="join-hero" aria-labelledby="join-title">
      <p class="eyebrow">Building Technology for a Better Future</p>
      <h1 id="join-title">Join arc^</h1>
      <p class="lead join-lede">
        arc^ is an <strong>open research framework</strong> building plasma technology for ecological repair. 
        We bring together <strong>researchers, builders, and communities</strong> to develop technology openly 
        and ethically ‚Äî <em>technology that serves life, not profit</em>. Whether you're a student, engineer, 
        scientist, or community partner, if you're ready to work transparently and collaboratively, there's a 
        place for you here.
      </p>
    </header>

    <!-- ACKNOWLEDGEMENTS SECTION 
         MINIMAL CHANGE: Only replace surface-panel with Card 
         Keep ALL original HTML structure and classes -->
    <Card as="section" class="acknowledgements-section" aria-labelledby="acknowledgements-heading">
      <div class="acknowledgements-intro-text">
        <p>Before you think this is just hypothetical ‚Äî <strong>we are not alone.</strong> Others have already spearheaded this movement.</p>
      </div>

      <SectionHeader
        title="Standing on Shoulders"
        subtitle="arc^ exists because others paved the way. <strong>Open science movements, community-led research initiatives, and hardware hackers</strong> showed us what's possible."
        align="left"
        headingLevel="h2"
      />

      <div class="acknowledgements-intro">
        <p><strong>We draw inspiration and learn from:</strong></p>
      </div>

      <div class="acknowledgements-grid">
        <article class="acknowledgement-card">
          <h3><a href="https://openhardware.science/" target="_blank" rel="noopener">Open Hardware Science</a></h3>
          <p>Demonstrating that scientific tools can be accessible, repairable, and shared freely across borders and institutions.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://www.gosh-community.org/" target="_blank" rel="noopener">GOSH Community</a></h3>
          <p>Building a global network where hardware knowledge flows freely, centering equity and local agency in tool development.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://publiclab.org/" target="_blank" rel="noopener">Public Lab</a></h3>
          <p>Pioneering community science with accessible tools for environmental monitoring and data sovereignty.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://www.appropedia.org/" target="_blank" rel="noopener">Appropedia</a></h3>
          <p>Creating a living library of sustainable technology and collaborative problem-solving for communities worldwide.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://www.oshwa.org/" target="_blank" rel="noopener">OSHWA</a></h3>
          <p>Advocating for open source hardware principles and building infrastructure for collaborative innovation.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://farmhack.org/" target="_blank" rel="noopener">Farm Hack</a></h3>
          <p>Empowering farmers as designers and innovators, sharing agricultural tools and knowledge in the commons.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://www.scienceforsociety.org/" target="_blank" rel="noopener">Community Science</a></h3>
          <p>Movements globally that center local knowledge, consent-based research, and accountability to communities.</p>
        </article>

        <article class="acknowledgement-card">
          <h3><a href="https://creativecommons.org/science/" target="_blank" rel="noopener">Creative Commons</a></h3>
          <p>Building legal infrastructure that lets knowledge flow freely while protecting creator rights and community interests.</p>
        </article>
      </div>

      <p class="acknowledgements-note">
        If you're working on similar open science or regenerative tech projects, <a href={EXTERNAL_LINKS.formURL} target="_blank" rel="noopener">let's connect</a>. We're stronger together.
      </p>
    </Card>

    <!-- GETTING STARTED SECTION
         Keep ALL original structure - only change surface-panel wrapper -->
    <section class="getting-started-section">
      <SectionHeader
        title="How to Get Started"
        subtitle="There are three clear paths into arc^ ‚Äî choose whichever fits your situation."
        align="center"
        headingLevel="h2"
      />

      <div class="getting-started-grid">
        <Card as="article" class="start-card">
          <span class="process-number">1</span>
          <h3>Students & Researchers</h3>
          <p>If you're working on a thesis, final-year project, or independent research, you can integrate arc^ projects into your academic work. You'll need supervisor approval and a commitment to open licensing.</p>
        </Card>

        <Card as="article" class="start-card">
          <span class="process-number">2</span>
          <h3>Independent Contributors</h3>
          <p>Makers, engineers, and technical contributors can jump into hardware design, code, or data analysis. Start by exploring existing projects and proposing contributions.</p>
        </Card>

        <Card as="article" class="start-card">
          <span class="process-number">3</span>
          <h3>Community Partners</h3>
          <p>Land stewards, farmers, and community organizers can partner to co-design experiments, host trials, and ensure research meets local needs and priorities.</p>
        </Card>
      </div>
    </section>

    <!-- WAYS TO CONTRIBUTE SECTION
         Keep ALL original structure -->
    <section class="contribute-section">
      <SectionHeader
        title="Ways to Contribute"
        subtitle="Regardless of your background or experience level, there are meaningful ways to participate."
        align="center"
        headingLevel="h2"
      />

      <div class="contribute-grid">
        <!-- Card 1: Hardware Development -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">‚ö°</div>
          <h3>Hardware Development</h3>
          <p class="card-focus">Plasma Systems & Open Tools</p>
          <ul class="contribute-tasks">
            <li>Design plasma reactors and PAW systems</li>
            <li>Build sensor arrays and data loggers</li>
            <li>Test and iterate on existing prototypes</li>
            <li>Create CAD files and schematics</li>
            <li>Troubleshoot electrical and safety issues</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Electrical engineers, makers, hardware hackers</p>
        </Card>

        <!-- Card 2: Software & Data -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">üíª</div>
          <h3>Software & Data</h3>
          <p class="card-focus">Analysis, Visualization, Tooling</p>
          <ul class="contribute-tasks">
            <li>Build data analysis pipelines</li>
            <li>Create visualization tools</li>
            <li>Write automation scripts</li>
            <li>Develop experiment tracking software</li>
            <li>Improve documentation systems</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Developers, data scientists, UX designers</p>
        </Card>

        <!-- Card 3: Documentation & Media -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">üìù</div>
          <h3>Documentation & Media</h3>
          <p class="card-focus">Teaching, Recording, Sharing</p>
          <ul class="contribute-tasks">
            <li>Write experiment protocols and guides</li>
            <li>Create tutorial videos and diagrams</li>
            <li>Document processes and workflows</li>
            <li>Design educational materials</li>
            <li>Translate resources into other languages</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Writers, designers, videographers, educators</p>
        </Card>

        <!-- Card 4: Field Testing -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">üå±</div>
          <h3>Field Testing</h3>
          <p class="card-focus">Real-World Trials & Feedback</p>
          <ul class="contribute-tasks">
            <li>Run PAW trials on your land</li>
            <li>Monitor soil and plant health</li>
            <li>Document environmental conditions</li>
            <li>Report successes and failures openly</li>
            <li>Suggest design improvements</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Farmers, gardeners, land stewards</p>
        </Card>

        <!-- Card 5: Research Support -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">üî¨</div>
          <h3>Research Support</h3>
          <p class="card-focus">Review, Validation, Collaboration</p>
          <ul class="contribute-tasks">
            <li>Replicate existing protocols</li>
            <li>Analyze open datasets</li>
            <li>Write up experimental findings</li>
            <li>Review literature and methods</li>
            <li>Give feedback on technology iterations</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Independent researchers, students (any discipline), data analysts</p>
        </Card>

        <!-- Card 6: Community Partnerships -->
        <Card as="article" class="contribute-card">
          <div class="card-icon">üåç</div>
          <h3>Community Partnerships</h3>
          <p class="card-focus">Real-World Co-Design & Testing</p>
          <ul class="contribute-tasks">
            <li>Host field trials on your land</li>
            <li>Share traditional ecological knowledge</li>
            <li>Co-design experiments based on local needs</li>
            <li>Monitor long-term outcomes</li>
            <li>Guide ethical research practices</li>
          </ul>
          <p class="ideal-for"><strong>Ideal for:</strong> Farmers, land stewards, community organizers, environmental groups</p>
        </Card>
      </div>
    </section>

    <!-- EXPECTATIONS SECTION
         Keep ALL original structure -->
    <section class="expectations-section">
      <SectionHeader
        title="What to Expect"
        subtitle="Contributing to arc^ means working within a set of shared commitments."
        align="center"
        headingLevel="h2"
      />

      <div class="expectations-grid">
        <Card as="article" class="expectation-card">
          <h3>Safety First</h3>
          <p>High-voltage plasma requires proper protocols. Safety concerns are non-negotiable. If you're unsure about a procedure, ask before proceeding.</p>
        </Card>

        <Card as="article" class="expectation-card">
          <h3>Open by Default</h3>
          <p>All work is documented and shared openly. Experiments are logged from day one, not just when results are favorable. Data, methods, and designs remain in the commons.</p>
        </Card>

        <Card as="article" class="expectation-card">
          <h3>Learn Through Failure</h3>
          <p>Mistakes are expected and documented. Early-stage work is messy ‚Äî that's normal. Replication across contexts is how we build confidence in results.</p>
        </Card>

        <Card as="article" class="expectation-card">
          <h3>Credit & Attribution</h3>
          <p>All contributors are named and credited. Your contributions matter and will be acknowledged publicly in outputs and documentation.</p>
        </Card>

        <Card as="article" class="expectation-card">
          <h3>Consent-Based</h3>
          <p>Communities are partners, not subjects. All engagement is informed, voluntary, and shaped by local knowledge and priorities.</p>
        </Card>

        <Card as="article" class="expectation-card">
          <h3>No Extraction</h3>
          <p>arc^ refuses extractive models. If you're here to extract value without giving back, this isn't the place. Collaboration is reciprocal.</p>
        </Card>
      </div>
    </section>

    <!-- FINAL CTA
         Only replace button with LinkButton -->
    <Card as="section" class="final-cta">
      <SectionHeader
        title="Ready to Join?"
        align="center"
        headingLevel="h2"
      />
      <p>Fill out the interest form, and we'll be in touch to discuss how you can contribute. No formal applications ‚Äî just honest conversation about what we're building together.</p>
      
      <LinkButton 
        href={EXTERNAL_LINKS.formURL}
        variant="primary"
        size="large"
        icon="external"
      >
        Fill Out Interest Form
      </LinkButton>
      
      <p class="final-note">Not ready to commit? That's fine. Explore the <a href={withBase("/projects")}>projects</a>, read about <a href={withBase("/how")}>our methods</a>, or learn <a href={withBase("/about")}>who's behind this</a>.</p>
    </Card>

  </main>

  <PageNavigation currentPage="join" />
</BaseLayout>

<!-- 
============================================================================
MIGRATION SUMMARY - join.astro (CORRECTED VERSION)
============================================================================

‚úÖ WHAT CHANGED (Minimal, preserving design):
1. Imports:
   - Added: Card, LinkButton components
   - Added: withBase, buildSEO, EXTERNAL_LINKS utilities
   - Removed: Duplicate withBase function, manual SEO construction

2. Replaced ONLY wrappers, kept ALL internal structure:
   - <section class="surface-panel"> ‚Üí <Card as="section">
   - Hard-coded formURL ‚Üí EXTERNAL_LINKS.formURL
   - <a class="button"> ‚Üí <LinkButton> (only the final CTA button)

‚úÖ WHAT DIDN'T CHANGE (Preserved design):
- ALL section headers kept as-is (h2 elements)
- ALL grid layouts untouched
- ALL card internals preserved (.acknowledgement-card, .start-card, etc.)
- ALL existing CSS classes maintained
- Visual appearance should be IDENTICAL

‚úÖ KEY LESSON:
- Card component is just a wrapper - it doesn't change internal content
- The .acknowledgement-card, .start-card classes handle the actual styling
- We replaced the outer .surface-panel wrapper, not the inner cards
- This preserves your exact visual design

============================================================================
-->